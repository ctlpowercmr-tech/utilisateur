<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CTL-PAY - Paiement Mobile</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header Application -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo-app">
                    <div class="logo-icon">üí≥</div>
                    <div class="logo-text">
                        <div class="logo-main">CTL-PAY</div>
                        <div class="logo-sub">Mobile Payment</div>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="btn-notification">
                        <span class="notification-badge">3</span>
                        üîî
                    </button>
                </div>
            </div>
        </header>

        <!-- Solde Utilisateur -->
        <section class="solde-section">
            <div class="solde-card">
                <div class="solde-info">
                    <div class="solde-label">Votre Solde</div>
                    <div class="solde-montant" id="solde-utilisateur">0 FCFA</div>
                    <div class="solde-details">Derni√®re mise √† jour: <span id="last-update">Maintenant</span></div>
                </div>
                <div class="solde-actions">
                    <button id="btn-recharger" class="btn-recharger">
                        <span class="btn-icon">‚ûï</span>
                        Recharger
                    </button>
                </div>
            </div>
        </section>

        <!-- Navigation Rapide -->
        <nav class="quick-nav">
            <button class="quick-btn active" data-section="scanner">
                <div class="quick-icon">üì±</div>
                <span>Scanner</span>
            </button>
            <button class="quick-btn" data-section="depot">
                <div class="quick-icon">üí∞</div>
                <span>D√©p√¥t</span>
            </button>
            <button class="quick-btn" data-section="historique">
                <div class="quick-icon">üìä</div>
                <span>Historique</span>
            </button>
            <button class="quick-btn" data-section="profil">
                <div class="quick-icon">üë§</div>
                <span>Profil</span>
            </button>
        </nav>

        <!-- Contenu Principal -->
        <main class="app-main">
            <!-- Section Scanner -->
            <section class="app-section active" id="scanner-section">
                <div class="section-header">
                    <h2>Scanner QR Code</h2>
                    <div class="section-badge">Recommand√©</div>
                </div>

                <div class="scanner-container">
                    <div class="scanner-frame">
                        <video id="camera-feed" width="300" height="300" autoplay playsinline></video>
                        <div class="scanner-overlay">
                            <div class="scan-animation"></div>
                        </div>
                        <div class="scanner-corner top-left"></div>
                        <div class="scanner-corner top-right"></div>
                        <div class="scanner-corner bottom-left"></div>
                        <div class="scanner-corner bottom-right"></div>
                    </div>
                    
                    <div class="scanner-instructions">
                        <p>üì± Positionnez le QR code dans le cadre pour scanner</p>
                        <p class="instruction-alt">ou saisissez manuellement l'ID de transaction</p>
                    </div>

                    <div class="manual-input">
                        <div class="input-group">
                            <input type="text" id="transaction-id" placeholder="Ex: TXA1B2C3D">
                            <button id="btn-charger-transaction" class="btn-manual">
                                <span class="btn-icon">üîç</span>
                                Charger
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section D√©p√¥t -->
            <section class="app-section" id="depot-section">
                <div class="section-header">
                    <h2>Recharger Votre Solde</h2>
                    <div class="section-badge">Instantan√©</div>
                </div>

                <div class="depot-container">
                    <div class="operateur-selection">
                        <h3>S√©lectionnez votre op√©rateur</h3>
                        <div class="operateurs-grid">
                            <div class="operateur-card" data-operateur="orange">
                                <div class="operateur-logo orange">üéØ ORANGE</div>
                                <div class="operateur-info">
                                    <div class="operateur-fee">Frais: 1%</div>
                                    <div class="operateur-speed">‚ö° Instantan√©</div>
                                </div>
                            </div>
                            <div class="operateur-card" data-operateur="mtn">
                                <div class="operateur-logo mtn">üî∑ MTN</div>
                                <div class="operateur-info">
                                    <div class="operateur-fee">Frais: 1.5%</div>
                                    <div class="operateur-speed">‚ö° Instantan√©</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="montant-selection">
                        <h3>Montant de recharge</h3>
                        <div class="montants-rapides">
                            <div class="montant-rapide" data-montant="1000">1 000 FCFA</div>
                            <div class="montant-rapide" data-montant="2000">2 000 FCFA</div>
                            <div class="montant-rapide" data-montant="5000">5 000 FCFA</div>
                            <div class="montant-rapide" data-montant="10000">10 000 FCFA</div>
                        </div>

                        <div class="montant-personnalise">
                            <label for="montant-input">Montant personnalis√©</label>
                            <div class="input-with-symbol">
                                <input type="number" id="montant-input" placeholder="Entrez le montant">
                                <span class="input-symbol">FCFA</span>
                            </div>
                        </div>
                    </div>

                    <div class="depot-summary">
                        <div class="summary-item">
                            <span>Montant:</span>
                            <span id="summary-montant">0 FCFA</span>
                        </div>
                        <div class="summary-item">
                            <span>Frais:</span>
                            <span id="summary-frais">0 FCFA</span>
                        </div>
                        <div class="summary-item total">
                            <span>Total √† payer:</span>
                            <span id="summary-total">0 FCFA</span>
                        </div>
                    </div>

                    <button id="btn-confirmer-depot" class="btn-depot" disabled>
                        <span class="btn-icon">üí≥</span>
                        Confirmer le D√©p√¥t
                    </button>
                </div>
            </section>

            <!-- Section Transaction -->
            <section class="app-section" id="transaction-section">
                <div class="transaction-header">
                    <button class="btn-back" id="btn-back-transaction">
                        <span class="btn-icon">‚¨ÖÔ∏è</span>
                        Retour
                    </button>
                    <h2>D√©tails Transaction</h2>
                </div>

                <div class="transaction-card">
                    <div class="transaction-id">
                        <span>ID:</span>
                        <span id="detail-transaction-id" class="transaction-value">-</span>
                    </div>
                    
                    <div class="transaction-montant">
                        <span>Montant:</span>
                        <span id="detail-montant" class="transaction-value">0 FCFA</span>
                    </div>

                    <div class="transaction-statut">
                        <span>Statut:</span>
                        <span id="detail-statut" class="statut-badge">-</span>
                    </div>

                    <div class="transaction-boissons">
                        <h4>ü•§ Boissons s√©lectionn√©es</h4>
                        <div id="liste-boissons" class="liste-boissons">
                            <!-- Liste g√©n√©r√©e dynamiquement -->
                        </div>
                    </div>

                    <div class="transaction-actions">
                        <button id="btn-payer" class="btn-payer-transaction">
                            <span class="btn-icon">‚úÖ</span>
                            Payer maintenant
                        </button>
                        <button id="btn-annuler-transaction" class="btn-annuler-transaction">
                            <span class="btn-icon">‚ùå</span>
                            Annuler
                        </button>
                    </div>
                </div>
            </section>

            <!-- Section Historique -->
            <section class="app-section" id="historique-section">
                <div class="section-header">
                    <h2>Historique des Transactions</h2>
                    <div class="section-actions">
                        <button class="btn-filter">üîß Filtrer</button>
                    </div>
                </div>

                <div class="historique-container">
                    <div class="historique-stats">
                        <div class="stat-mini">
                            <div class="stat-value" id="stat-total">0</div>
                            <div class="stat-label">Transactions</div>
                        </div>
                        <div class="stat-mini">
                            <div class="stat-value" id="stat-montant-total">0 FCFA</div>
                            <div class="stat-label">Total d√©pens√©</div>
                        </div>
                    </div>

                    <div class="historique-list" id="historique-transactions">
                        <!-- Transactions charg√©es dynamiquement -->
                        <div class="historique-vide">
                            <div class="empty-icon">üìä</div>
                            <p>Aucune transaction pour le moment</p>
                            <p class="empty-sub">Vos transactions appara√Ætront ici</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section Profil -->
            <section class="app-section" id="profil-section">
                <div class="profil-header">
                    <div class="profil-avatar">
                        <div class="avatar">üë§</div>
                    </div>
                    <div class="profil-info">
                        <h3>Utilisateur CTL-PAY</h3>
                        <p>Membre depuis 2024</p>
                    </div>
                </div>

                <div class="profil-menu">
                    <div class="menu-item">
                        <div class="menu-icon">‚öôÔ∏è</div>
                        <div class="menu-text">Param√®tres</div>
                        <div class="menu-arrow">‚Ä∫</div>
                    </div>
                    <div class="menu-item">
                        <div class="menu-icon">üîí</div>
                        <div class="menu-text">S√©curit√©</div>
                        <div class="menu-arrow">‚Ä∫</div>
                    </div>
                    <div class="menu-item">
                        <div class="menu-icon">üí¨</div>
                        <div class="menu-text">Support</div>
                        <div class="menu-arrow">‚Ä∫</div>
                    </div>
                    <div class="menu-item">
                        <div class="menu-icon">üì±</div>
                        <div class="menu-text">√Ä propos</div>
                        <div class="menu-arrow">‚Ä∫</div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Modal Confirmation Paiement -->
        <div class="modal-overlay" id="confirmation-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-icon">‚úÖ</div>
                    <h3>Paiement R√©ussi!</h3>
                </div>
                <div class="modal-body">
                    <p>Votre transaction a √©t√© trait√©e avec succ√®s.</p>
                    <div class="transaction-resume">
                        <div class="resume-item">
                            <span>ID Transaction:</span>
                            <span id="modal-transaction-id">-</span>
                        </div>
                        <div class="resume-item">
                            <span>Montant:</span>
                            <span id="modal-montant">0 FCFA</span>
                        </div>
                        <div class="resume-item">
                            <span>Nouveau solde:</span>
                            <span id="modal-solde">0 FCFA</span>
                        </div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button id="btn-modal-ok" class="btn-modal-ok">
                        <span class="btn-icon">üëç</span>
                        Super!
                    </button>
                </div>
            </div>
        </div>

        <!-- Statut Connexion -->
        <div class="connection-status" id="connection-status">
            <div class="status-dot"></div>
            <span>Connect√© au serveur</span>
        </div>
    </div>

    <!-- Sons -->
    <audio id="sound-scan" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-software-interface-start-2574.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-success" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-unlock-game-notification-253.mp3" type="audio/mpeg">
    </audio>

    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>
