<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CTL-Pay - Paiement Mobile</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="app-logo">üí≥ CTL-PAY</div>
                    <div class="app-tagline">Paiement Mobile S√©curis√©</div>
                </div>
                <div class="user-info">
                    <div class="solde-utilisateur">
                        <span class="solde-label">Solde:</span>
                        <span class="solde-montant" id="solde-utilisateur">0</span>
                        <span class="solde-devise">FCFA</span>
                        <button id="btn-recharger" class="btn-recharger" title="Recharger">
                            <span class="recharger-icon">üí∞</span>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="app-nav">
            <button class="nav-btn active" data-section="scanner">
                <span class="nav-icon">üì±</span>
                <span class="nav-text">Scanner</span>
            </button>
            <button class="nav-btn" data-section="recharge">
                <span class="nav-icon">üí≥</span>
                <span class="nav-text">Recharger</span>
            </button>
            <button class="nav-btn" data-section="historique">
                <span class="nav-icon">üìä</span>
                <span class="nav-text">Historique</span>
            </button>
        </nav>

        <!-- Main Content -->
        <main class="app-main">
            <!-- Section Scanner -->
            <section class="app-section active" id="scanner-section">
                <div class="section-header">
                    <h1>Scanner le QR Code</h1>
                    <p>Scannez le code QR du distributeur CTL-Power</p>
                </div>

                <div class="scanner-container">
                    <div class="scanner-frame">
                        <video id="camera-feed" width="320" height="320" autoplay playsinline></video>
                        <div class="scanner-overlay">
                            <div class="scan-animation"></div>
                        </div>
                        <div class="scanner-guidelines">
                            <div class="guide-line top-left"></div>
                            <div class="guide-line top-right"></div>
                            <div class="guide-line bottom-left"></div>
                            <div class="guide-line bottom-right"></div>
                        </div>
                    </div>
                    
                    <div class="scanner-controls">
                        <button id="btn-activer-camera" class="btn-camera">
                            üì∑ Activer la cam√©ra
                        </button>
                        <button id="btn-desactiver-camera" class="btn-camera secondary" style="display: none;">
                            ‚ùå Arr√™ter
                        </button>
                    </div>

                    <div class="manual-input">
                        <div class="input-group">
                            <input type="text" id="transaction-id" placeholder="Ou entrer l'ID CTL (ex: CTL123456)" maxlength="9">
                            <button id="btn-charger-transaction" class="btn-charger">
                                Charger
                            </button>
                        </div>
                    </div>
                </div>

                <div class="scanner-features">
                    <div class="feature-card">
                        <div class="feature-icon">‚ö°</div>
                        <div class="feature-text">Paiement Instantan√©</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üîí</div>
                        <div class="feature-text">100% S√©curis√©</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üîÑ</div>
                        <div class="feature-text">24h/24</div>
                    </div>
                </div>
            </section>

            <!-- Section Recharge -->
            <section class="app-section" id="recharge-section">
                <div class="section-header">
                    <h1>Recharger votre solde</h1>
                    <p>Choisissez votre op√©rateur et le montant</p>
                </div>

                <div class="recharge-content">
                    <!-- S√©lection d'op√©rateur -->
                    <div class="operateur-selection">
                        <h3>Op√©rateur Mobile</h3>
                        <div class="operateurs-grid">
                            <div class="operateur-card" data-operateur="orange">
                                <div class="operateur-icon" style="background: #FF6600;">üü†</div>
                                <div class="operateur-nom">Orange Money</div>
                                <div class="operateur-check">‚úì</div>
                            </div>
                            <div class="operateur-card" data-operateur="mtn">
                                <div class="operateur-icon" style="background: #FFCC00;">üü°</div>
                                <div class="operateur-nom">MTN Mobile Money</div>
                                <div class="operateur-check">‚úì</div>
                            </div>
                        </div>
                    </div>

                    <!-- Montants rapides -->
                    <div class="montants-rapides">
                        <h3>Montants Rapides</h3>
                        <div class="montants-grid">
                            <div class="montant-rapide" data-montant="1000">
                                <div class="montant">1 000</div>
                                <div class="devise">FCFA</div>
                            </div>
                            <div class="montant-rapide" data-montant="2000">
                                <div class="montant">2 000</div>
                                <div class="devise">FCFA</div>
                            </div>
                            <div class="montant-rapide" data-montant="5000">
                                <div class="montant">5 000</div>
                                <div class="devise">FCFA</div>
                            </div>
                            <div class="montant-rapide" data-montant="10000">
                                <div class="montant">10 000</div>
                                <div class="devise">FCFA</div>
                            </div>
                        </div>
                    </div>

                    <!-- Montant personnalis√© -->
                    <div class="montant-personnalise">
                        <h3>Montant Personnalis√©</h3>
                        <div class="input-group-personnalise">
                            <input type="number" id="montant-personnalise" placeholder="Entrez le montant" min="100" step="100">
                            <span class="devise-input">FCFA</span>
                        </div>
                        <button id="btn-recharger-perso" class="btn-recharger-perso">
                            üí∞ Recharger
                        </button>
                    </div>
                </div>
            </section>

            <!-- Section Transaction -->
            <section class="app-section" id="transaction-section">
                <div class="section-header">
                    <h1>D√©tails de la transaction</h1>
                    <p>V√©rifiez et confirmez le paiement</p>
                </div>

                <div class="transaction-content">
                    <div class="transaction-card">
                        <div class="transaction-header">
                            <div class="transaction-id">ID: <span id="detail-transaction-id">-</span></div>
                            <div class="transaction-statut" id="detail-statut">-</div>
                        </div>
                        
                        <div class="transaction-montant">
                            <span class="montant-label">Montant √† payer:</span>
                            <span class="montant-valeur" id="detail-montant">0</span>
                            <span class="montant-devise">FCFA</span>
                        </div>

                        <div class="boissons-transaction">
                            <h4>Boissons s√©lectionn√©es:</h4>
                            <div id="liste-boissons" class="liste-boissons">
                                <!-- Liste des boissons -->
                            </div>
                        </div>

                        <div class="transaction-actions">
                            <button id="btn-payer" class="btn-confirmer-paiement">
                                üí≥ Confirmer le Paiement
                            </button>
                            <button id="btn-annuler" class="btn-annuler-transaction">
                                ‚ùå Annuler
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section Historique -->
            <section class="app-section" id="historique-section">
                <div class="section-header">
                    <h1>Historique des transactions</h1>
                    <p>Vos derni√®res op√©rations CTL-Pay</p>
                </div>

                <div class="historique-content">
                    <div id="historique-transactions" class="historique-list">
                        <!-- Transactions historiques -->
                    </div>
                    
                    <div class="historique-vide" id="historique-vide">
                        <div class="vide-icon">üìä</div>
                        <div class="vide-text">Aucune transaction</div>
                        <div class="vide-sous-text">Vos transactions appara√Ætront ici</div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Confirmation de Paiement -->
        <div class="confirmation-overlay" id="confirmation-paiement">
            <div class="confirmation-modal">
                <div class="confirmation-content">
                    <div class="confirmation-icon">‚úÖ</div>
                    <h2>Paiement R√©ussi!</h2>
                    <p>Votre transaction a √©t√© trait√©e avec succ√®s.</p>
                    <div class="confirmation-details">
                        <div class="detail-item">
                            <span>ID Transaction:</span>
                            <strong id="confirmation-id">-</strong>
                        </div>
                        <div class="detail-item">
                            <span>Montant:</span>
                            <strong id="confirmation-montant">0</strong> FCFA
                        </div>
                        <div class="detail-item">
                            <span>Nouveau solde:</span>
                            <strong id="confirmation-solde">0</strong> FCFA
                        </div>
                    </div>
                    <button id="btn-nouvelle-transaction" class="btn-nouvelle">
                        üéâ Nouvelle Transaction
                    </button>
                </div>
            </div>
        </div>

        <!-- Notification -->
        <div id="notification" class="notification"></div>

        <!-- Statut Connexion -->
        <div id="statut-connexion" class="statut-connexion"></div>
    </div>

    <!-- Son de scan -->
    <audio id="scan-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3" type="audio/mpeg">
    </audio>

    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>
